import{c as q}from"./chunk-HAWBH55J.js";import{b as j,c as Y,d as R,e as G,f as H,g as J,i as K,j as Q,k as X,n as Z,r as ee}from"./chunk-5I2LB5G5.js";import{b as te}from"./chunk-BQTDLULF.js";import{Ab as N,Ca as T,Ga as u,Ib as $,Jb as A,Mb as B,Nb as U,Oa as s,Pa as i,Pb as W,Qa as n,R as h,Ra as E,Sa as P,Ta as f,Ua as g,Va as v,W as _,X as x,Xa as S,Ya as r,Za as C,_a as O,a as p,ab as I,b as M,ca as b,gb as w,hb as D,ib as F,pa as o,xb as z,yb as L,zb as V}from"./chunk-5IEPMVD6.js";function ie(a,t){if(a&1){let e=P();i(0,"tr")(1,"td")(2,"span",25),r(3),n()(),i(4,"td")(5,"div",26)(6,"span",27),r(7),n(),i(8,"span",28),r(9),n()()(),i(10,"td")(11,"div",29)(12,"span",30),r(13,"\u{1F37D}\uFE0F"),n(),i(14,"span",31),r(15),n()()(),i(16,"td")(17,"div",29)(18,"span",30),r(19,"\u{1F468}\u200D\u{1F373}"),n(),i(20,"span",31),r(21),n()()(),i(22,"td")(23,"span",32),r(24),n()(),i(25,"td")(26,"span",33)(27,"span",34),r(28),n(),r(29),n()(),i(30,"td",35)(31,"button",36),f("click",function(){let c=_(e).$implicit,m=g(3);return x(m.viewOrderItems(c))}),r(32," \u{1F441}\uFE0F "),n(),i(33,"button",37),f("click",function(){let c=_(e).$implicit,m=g(3);return x(m.openEditModal(c))}),r(34," \u270F\uFE0F "),n(),i(35,"button",38),f("click",function(){let c=_(e).$implicit,m=g(3);return x(m.deleteOrderTicket(c))}),r(36," \u{1F5D1}\uFE0F "),n()()()}if(a&2){let e=t.$implicit,d=g(3);o(3),O("\u{1F4CB} Orden #",e.orderTicketId),o(4),C(d.getTableName(e.table)),o(2),C(d.getTableLocation(e.table)),o(6),C(e.waiter.name),o(6),C(e.chef.name),o(3),C(d.formatDate(e.date)),o(2),S(d.getStatusClass(e.status.name)),o(2),C(d.getStatusIcon(e.status.name)),o(),O(" ",e.status.name," "),o(2),s("disabled",d.isLoading()),o(2),s("disabled",d.isLoading()),o(2),s("disabled",d.isLoading())}}function re(a,t){if(a&1&&(i(0,"table",22)(1,"thead")(2,"tr")(3,"th"),r(4,"Orden"),n(),i(5,"th"),r(6,"Mesa"),n(),i(7,"th"),r(8,"Mesero"),n(),i(9,"th"),r(10,"Chef"),n(),i(11,"th"),r(12,"Fecha"),n(),i(13,"th"),r(14,"Estado"),n(),i(15,"th",23),r(16,"Acciones"),n()()(),i(17,"tbody"),u(18,ie,37,13,"tr",24),n()()),a&2){let e=g(2);o(18),s("ngForOf",e.orderTickets())("ngForTrackBy",e.trackByOrderTicketId)}}function ae(a,t){if(a&1){let e=P();i(0,"button",43),f("click",function(){_(e);let c=g(3);return x(c.openCreateModal())}),i(1,"span",13),r(2,"+"),n(),r(3," Crear Primera Orden "),n()}}function oe(a,t){if(a&1&&(i(0,"div",39)(1,"div",40),r(2,"\u{1F4CB}"),n(),i(3,"h3"),r(4,"No hay \xF3rdenes registradas"),n(),i(5,"p"),r(6,"Comienza creando la primera orden del restaurante"),n(),i(7,"div",41)(8,"h4"),r(9,"\u26A0\uFE0F Requisitos previos:"),n(),i(10,"ul")(11,"li"),r(12,"\u2705 Tener mesas creadas"),n(),i(13,"li"),r(14,"\u2705 Tener usuarios con rol Mesero y Chef"),n(),i(15,"li"),r(16,"\u2705 Tener estados para \xF3rdenes"),n()()(),u(17,ae,4,0,"button",42),n()),a&2){let e=g(2);o(17),s("ngIf",e.tables().length>0&&e.users().length>0&&e.statuses().length>0)}}function de(a,t){if(a&1&&(i(0,"div",20),u(1,re,19,2,"table",21)(2,oe,18,1,"ng-template",null,0,F),n()),a&2){let e=v(3),d=g();o(),s("ngIf",d.orderTickets().length>0)("ngIfElse",e)}}function se(a,t){if(a&1&&(i(0,"div",52)(1,"label"),r(2,"N\xFAmero de Orden"),n(),E(3,"input",82),n()),a&2){let e=g(2);o(3),s("value","Orden #"+e.currentOrderTicket().orderTicketId)}}function ce(a,t){a&1&&(i(0,"div",83),r(1," La fecha es requerida "),n())}function le(a,t){if(a&1&&(i(0,"option",84),r(1),n()),a&2){let e=t.$implicit,d=g(2);s("value",e.tableId),o(),I(" \u{1FA91} Mesa #",e.tableId," - ",d.getTableLocation(e)," (",e.capacity," personas) ")}}function me(a,t){a&1&&(i(0,"div",83),r(1," La mesa es requerida "),n())}function ge(a,t){a&1&&(i(0,"div",85),r(1," \u26A0\uFE0F No hay mesas disponibles. "),i(2,"a",86),r(3,"Crear mesa"),n()())}function ue(a,t){if(a&1&&(i(0,"option",84),r(1),n()),a&2){let e=t.$implicit;s("value",e.userId),o(),O(" \u{1F37D}\uFE0F ",e.name," ")}}function pe(a,t){a&1&&(i(0,"div",83),r(1," El mesero es requerido "),n())}function fe(a,t){a&1&&(i(0,"div",85),r(1," \u26A0\uFE0F No hay meseros disponibles. "),i(2,"a",87),r(3,"Crear usuario con rol Mesero"),n()())}function _e(a,t){if(a&1&&(i(0,"option",84),r(1),n()),a&2){let e=t.$implicit;s("value",e.userId),o(),O(" \u{1F468}\u200D\u{1F373} ",e.name," ")}}function xe(a,t){a&1&&(i(0,"div",83),r(1," El chef es requerido "),n())}function Ce(a,t){a&1&&(i(0,"div",85),r(1," \u26A0\uFE0F No hay chefs disponibles. "),i(2,"a",87),r(3,"Crear usuario con rol Chef"),n()())}function be(a,t){if(a&1&&(i(0,"option",84),r(1),n()),a&2){let e=t.$implicit;s("value",e.statusId),o(),O(" ",e.name," ")}}function Oe(a,t){a&1&&(i(0,"div",83),r(1," El estado es requerido "),n())}function Me(a,t){a&1&&(i(0,"div",85),r(1," \u26A0\uFE0F No hay estados disponibles. "),i(2,"a",88),r(3,"Crear estado"),n()())}function ve(a,t){if(a&1&&(i(0,"div",89)(1,"h4"),r(2,"\u{1F4CB} Resumen de la Orden:"),n(),i(3,"div",90)(4,"div",91)(5,"div",92),r(6,"\u{1FA91}"),n(),i(7,"div",93)(8,"span",94),r(9,"Mesa"),n(),i(10,"span",95),r(11),n(),i(12,"span",96),r(13),n()()(),i(14,"div",91)(15,"div",92),r(16,"\u{1F37D}\uFE0F"),n(),i(17,"div",93)(18,"span",94),r(19,"Mesero"),n(),i(20,"span",95),r(21),n()()(),i(22,"div",91)(23,"div",92),r(24,"\u{1F468}\u200D\u{1F373}"),n(),i(25,"div",93)(26,"span",94),r(27,"Chef"),n(),i(28,"span",95),r(29),n()()(),i(30,"div",91)(31,"div",92),r(32),n(),i(33,"div",93)(34,"span",94),r(35,"Estado"),n(),i(36,"span",95),r(37),n()()()()()),a&2){let e=g(2);o(11),C(e.getTableName(e.currentOrderTicket().table)),o(2),C(e.getTableLocation(e.currentOrderTicket().table)),o(8),C(e.currentOrderTicket().waiter.name),o(8),C(e.currentOrderTicket().chef.name),o(3),C(e.getStatusIcon(e.currentOrderTicket().status.name)),o(5),C(e.currentOrderTicket().status.name)}}function he(a,t){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=g(2);o(),O(" ",e.isEditing()?"\u{1F4BE} Actualizar":"\u2795 Crear"," ")}}function Pe(a,t){a&1&&(i(0,"span"),r(1," Guardando... "),n())}function ye(a,t){if(a&1){let e=P();i(0,"div",44),f("click",function(){_(e);let c=g();return x(c.closeModal())}),i(1,"div",45),f("click",function(c){return _(e),x(c.stopPropagation())}),i(2,"div",46)(3,"h2")(4,"span",47),r(5),n(),r(6),n(),i(7,"button",48),f("click",function(){_(e);let c=g();return x(c.closeModal())}),r(8," \u2715 "),n()(),i(9,"div",49)(10,"form",50,1),f("ngSubmit",function(){_(e);let c=g();return x(c.saveOrderTicket())}),u(12,se,4,1,"div",51),i(13,"div",52)(14,"label",53)(15,"span",54),r(16,"*"),n(),r(17," Fecha y Hora "),n(),i(18,"input",55,2),w(20,"date"),f("ngModelChange",function(c){_(e);let m=g();return x(m.updateDate(c))}),n(),i(21,"div",56),r(22," \u{1F4C5} Fecha y hora de la orden "),n(),u(23,ce,2,0,"div",57),n(),i(24,"div",52)(25,"label",58)(26,"span",54),r(27,"*"),n(),r(28," Mesa "),n(),i(29,"select",59,3),f("ngModelChange",function(c){_(e);let m=g();return x(m.updateTable(c))}),i(31,"option",60),r(32,"Selecciona una mesa"),n(),u(33,le,2,4,"option",61),n(),u(34,me,2,0,"div",57)(35,ge,4,0,"div",62),n(),i(36,"div",52)(37,"label",63)(38,"span",54),r(39,"*"),n(),r(40," Mesero "),n(),i(41,"select",64,4),f("ngModelChange",function(c){_(e);let m=g();return x(m.updateWaiter(c))}),i(43,"option",60),r(44,"Selecciona un mesero"),n(),u(45,ue,2,2,"option",61),n(),u(46,pe,2,0,"div",57)(47,fe,4,0,"div",62),n(),i(48,"div",52)(49,"label",65)(50,"span",54),r(51,"*"),n(),r(52," Chef "),n(),i(53,"select",66,5),f("ngModelChange",function(c){_(e);let m=g();return x(m.updateChef(c))}),i(55,"option",60),r(56,"Selecciona un chef"),n(),u(57,_e,2,2,"option",61),n(),u(58,xe,2,0,"div",57)(59,Ce,4,0,"div",62),n(),i(60,"div",52)(61,"label",67)(62,"span",54),r(63,"*"),n(),r(64," Estado "),n(),i(65,"select",68,6),f("ngModelChange",function(c){_(e);let m=g();return x(m.updateStatus(c))}),i(67,"option",60),r(68,"Selecciona un estado"),n(),u(69,be,2,2,"option",61),n(),u(70,Oe,2,0,"div",57)(71,Me,4,0,"div",62),i(72,"div",69)(73,"p")(74,"strong"),r(75,"Estados sugeridos para \xF3rdenes:"),n()(),i(76,"div",70)(77,"span",71),r(78,"\u23F3 Pendiente"),n(),i(79,"span",72),r(80,"\u{1F468}\u200D\u{1F373} Preparando"),n(),i(81,"span",73),r(82,"\u2705 Listo"),n(),i(83,"span",74),r(84,"\u{1F37D}\uFE0F Entregado"),n(),i(85,"span",75),r(86,"\u2714\uFE0F Completado"),n(),i(87,"span",76),r(88,"\u274C Cancelado"),n()()()(),u(89,ve,38,6,"div",77),i(90,"div",78)(91,"button",79),f("click",function(){_(e);let c=g();return x(c.closeModal())}),r(92," Cancelar "),n(),i(93,"button",80),u(94,he,2,1,"span",81)(95,Pe,2,0,"span",81),n()()()()()()}if(a&2){let e=v(11),d=v(19),c=v(30),m=v(42),y=v(54),k=v(66),l=g();o(5),C(l.isEditing()?"\u270F\uFE0F":"\u2795"),o(),O(" ",l.isEditing()?"Editar Orden":"Nueva Orden"," "),o(),s("disabled",l.isLoading()),o(5),s("ngIf",l.isEditing()),o(6),s("ngModel",D(20,32,l.currentOrderTicket().date,"yyyy-MM-ddTHH:mm"))("disabled",l.isLoading()),o(5),s("ngIf",d.touched&&(d.errors==null?null:d.errors.required)),o(6),s("ngModel",l.currentOrderTicket().table.tableId)("disabled",l.isLoading()||l.tables().length===0),o(4),s("ngForOf",l.tables()),o(),s("ngIf",c.touched&&(c.errors==null?null:c.errors.required)),o(),s("ngIf",l.tables().length===0),o(6),s("ngModel",l.currentOrderTicket().waiter.userId)("disabled",l.isLoading()||l.getWaiters().length===0),o(4),s("ngForOf",l.getWaiters()),o(),s("ngIf",m.touched&&(m.errors==null?null:m.errors.required)),o(),s("ngIf",l.getWaiters().length===0),o(6),s("ngModel",l.currentOrderTicket().chef.userId)("disabled",l.isLoading()||l.getChefs().length===0),o(4),s("ngForOf",l.getChefs()),o(),s("ngIf",y.touched&&(y.errors==null?null:y.errors.required)),o(),s("ngIf",l.getChefs().length===0),o(6),s("ngModel",l.currentOrderTicket().status.statusId)("disabled",l.isLoading()||l.statuses().length===0),o(4),s("ngForOf",l.statuses()),o(),s("ngIf",k.touched&&(k.errors==null?null:k.errors.required)),o(),s("ngIf",l.statuses().length===0),o(18),s("ngIf",l.currentOrderTicket().table.tableId&&l.currentOrderTicket().waiter.userId&&l.currentOrderTicket().chef.userId&&l.currentOrderTicket().status.statusId),o(2),s("disabled",l.isLoading()),o(2),s("disabled",!e.valid||l.isLoading()),o(),s("ngIf",!l.isLoading()),o(),s("ngIf",l.isLoading())}}var ne=class a{orderTicketService=h(U);tableService=h(B);userService=h(A);statusService=h($);notificationService=h(W);router=h(q);orderTickets=b([]);tables=b([]);users=b([]);statuses=b([]);isLoading=b(!1);showModal=b(!1);isEditing=b(!1);currentOrderTicket=b({date:new Date().toISOString(),table:{tableId:void 0,capacity:0,location:0,status:{statusId:void 0,name:""}},waiter:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},chef:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},status:{statusId:void 0,name:""}});ngOnInit(){this.loadOrderTickets(),this.loadTables(),this.loadUsers(),this.loadStatuses()}loadOrderTickets(){this.isLoading.set(!0),this.orderTicketService.getAll().subscribe({next:t=>{this.orderTickets.set(t),this.isLoading.set(!1)},error:t=>{console.error("Error al cargar \xF3rdenes:",t),this.notificationService.error("Error al cargar las \xF3rdenes"),this.isLoading.set(!1)}})}loadTables(){this.tableService.getAll().subscribe({next:t=>{this.tables.set(t)},error:t=>{console.error("Error al cargar mesas:",t),this.notificationService.error("Error al cargar las mesas")}})}loadUsers(){this.userService.getAll().subscribe({next:t=>{this.users.set(t)},error:t=>{console.error("Error al cargar usuarios:",t),this.notificationService.error("Error al cargar los usuarios")}})}loadStatuses(){this.statusService.getAll().subscribe({next:t=>{this.statuses.set(t)},error:t=>{console.error("Error al cargar estados:",t),this.notificationService.error("Error al cargar los estados")}})}openCreateModal(){this.currentOrderTicket.set({date:new Date().toISOString(),table:{tableId:void 0,capacity:0,location:0,status:{statusId:void 0,name:""}},waiter:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},chef:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},status:{statusId:void 0,name:""}}),this.isEditing.set(!1),this.showModal.set(!0)}openEditModal(t){this.currentOrderTicket.set(M(p({},t),{table:p({},t.table),waiter:p({},t.waiter),chef:p({},t.chef),status:p({},t.status)})),this.isEditing.set(!0),this.showModal.set(!0)}closeModal(){this.showModal.set(!1),this.currentOrderTicket.set({date:new Date().toISOString(),table:{tableId:void 0,capacity:0,location:0,status:{statusId:void 0,name:""}},waiter:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},chef:{userId:void 0,name:"",email:"",password:"",role:{roleId:void 0,name:""}},status:{statusId:void 0,name:""}}),this.isEditing.set(!1)}saveOrderTicket(){let t=this.currentOrderTicket();if(!t.table.tableId){this.notificationService.warning("Debe seleccionar una mesa");return}if(!t.waiter.userId){this.notificationService.warning("Debe seleccionar un mesero");return}if(!t.chef.userId){this.notificationService.warning("Debe seleccionar un chef");return}if(!t.status.statusId){this.notificationService.warning("Debe seleccionar un estado");return}if(!t.date){this.notificationService.warning("La fecha es requerida");return}this.isLoading.set(!0);let e=M(p({},t),{date:t.date,table:{tableId:t.table.tableId,capacity:t.table.capacity||0,location:t.table.location||0,status:t.table.status||{statusId:void 0,name:""}},waiter:{userId:t.waiter.userId,name:t.waiter.name||"",email:t.waiter.email||"",password:t.waiter.password||"",role:t.waiter.role||{roleId:void 0,name:""}},chef:{userId:t.chef.userId,name:t.chef.name||"",email:t.chef.email||"",password:t.chef.password||"",role:t.chef.role||{roleId:void 0,name:""}},status:{statusId:t.status.statusId,name:t.status.name||""}});(this.isEditing()?this.orderTicketService.update(e):this.orderTicketService.create(e)).subscribe({next:c=>{let m=this.isEditing()?"actualizada":"creada";this.notificationService.success(`Orden #${c.orderTicketId} ${m} exitosamente`),this.closeModal(),this.loadOrderTickets()},error:c=>{console.error("Error al guardar orden:",c);let m=this.isEditing()?"actualizar":"crear";this.notificationService.error(`Error al ${m} la orden`),this.isLoading.set(!1)}})}deleteOrderTicket(t){if(!t.orderTicketId){this.notificationService.error("ID de orden no v\xE1lido");return}let e=`\xBFEst\xE1 seguro de eliminar la Orden #${t.orderTicketId}?

Mesa: ${this.getTableName(t.table)}
Mesero: ${t.waiter.name}
Chef: ${t.chef.name}
Estado: ${t.status.name}

Esta acci\xF3n eliminar\xE1 tambi\xE9n todos los items de esta orden.`;confirm(e)&&(this.isLoading.set(!0),this.orderTicketService.delete(t.orderTicketId).subscribe({next:()=>{this.notificationService.success(`Orden #${t.orderTicketId} eliminada exitosamente`),this.loadOrderTickets()},error:d=>{console.error("Error al eliminar orden:",d),d.status===409||d.status===500?this.notificationService.error("No se puede eliminar la orden porque tiene items asociados"):this.notificationService.error("Error al eliminar la orden"),this.isLoading.set(!1)}}))}viewOrderItems(t){this.router.navigate(["/admin/order-items"],{queryParams:{orderId:t.orderTicketId}})}updateTable(t){let e=this.tables().find(d=>d.tableId?.toString()===t);e&&this.currentOrderTicket.update(d=>M(p({},d),{table:p({},e)}))}updateWaiter(t){let e=this.users().find(d=>d.userId?.toString()===t);e&&this.currentOrderTicket.update(d=>M(p({},d),{waiter:p({},e)}))}updateChef(t){let e=this.users().find(d=>d.userId?.toString()===t);e&&this.currentOrderTicket.update(d=>M(p({},d),{chef:p({},e)}))}updateStatus(t){let e=this.statuses().find(d=>d.statusId?.toString()===t);e&&this.currentOrderTicket.update(d=>M(p({},d),{status:p({},e)}))}updateDate(t){this.currentOrderTicket.update(e=>M(p({},e),{date:t}))}getTableName(t){return t.tableId?`Mesa #${t.tableId}`:"Sin mesa"}getTableLocation(t){return{1:"Terraza",2:"Interior",3:"VIP",4:"Barra",5:"Exterior"}[t.location]||`\xC1rea ${t.location}`}formatDate(t){let e=new Date(t);return new Intl.DateTimeFormat("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}getStatusIcon(t){let e=t.toLowerCase();return e.includes("pendiente")||e.includes("pending")?"\u23F3":e.includes("preparando")||e.includes("preparing")?"\u{1F468}\u200D\u{1F373}":e.includes("listo")||e.includes("ready")?"\u2705":e.includes("entregado")||e.includes("delivered")?"\u{1F37D}\uFE0F":e.includes("completado")||e.includes("completed")?"\u2714\uFE0F":e.includes("cancelado")||e.includes("cancelled")?"\u274C":"\u{1F4CB}"}getStatusClass(t){let e=t.toLowerCase();return e.includes("pendiente")||e.includes("pending")?"status-pending":e.includes("preparando")||e.includes("preparing")?"status-preparing":e.includes("listo")||e.includes("ready")?"status-ready":e.includes("entregado")||e.includes("delivered")?"status-delivered":e.includes("completado")||e.includes("completed")?"status-completed":e.includes("cancelado")||e.includes("cancelled")?"status-cancelled":"status-default"}getWaiters(){return this.users().filter(t=>t.role.name==="Waiter"||t.role.name==="Mesero")}getChefs(){return this.users().filter(t=>t.role.name==="Chef"||t.role.name==="Cocinero")}trackByOrderTicketId(t,e){return e.orderTicketId}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=T({type:a,selectors:[["app-order-ticket-management"]],decls:22,vars:6,consts:[["noOrderTickets",""],["orderTicketForm","ngForm"],["orderDateInput","ngModel"],["tableInput","ngModel"],["waiterInput","ngModel"],["chefInput","ngModel"],["statusInput","ngModel"],[1,"order-ticket-management-container"],[1,"page-header"],[1,"header-content"],[1,"icon"],[1,"subtitle"],[1,"btn-primary",3,"click","disabled"],[1,"btn-icon"],["message","Cargando \xF3rdenes...",3,"isLoading","fullscreen"],[1,"card"],[1,"card-header"],[1,"badge"],["class","table-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"table-container"],["class","data-table",4,"ngIf","ngIfElse"],[1,"data-table"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"order-number"],[1,"table-info"],[1,"table-name"],[1,"table-location"],[1,"user-info"],[1,"user-icon"],[1,"user-name"],[1,"date-text"],[1,"status-badge"],[1,"status-icon"],[1,"actions"],["title","Ver items",1,"btn-action","btn-view",3,"click","disabled"],["title","Editar orden",1,"btn-action","btn-edit",3,"click","disabled"],["title","Eliminar orden",1,"btn-action","btn-delete",3,"click","disabled"],[1,"empty-state"],[1,"empty-icon"],[1,"requirements-box"],["class","btn-primary",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"modal-icon"],[1,"btn-close",3,"click","disabled"],[1,"modal-body"],[3,"ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","orderDate"],[1,"required"],["type","datetime-local","id","orderDate","name","orderDate","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-hint"],["class","form-error",4,"ngIf"],["for","table"],["id","table","name","table","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","form-warning",4,"ngIf"],["for","waiter"],["id","waiter","name","waiter","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","chef"],["id","chef","name","chef","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","status"],["id","status","name","status","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"status-examples"],[1,"status-badges"],[1,"example-status","status-pending"],[1,"example-status","status-preparing"],[1,"example-status","status-ready"],[1,"example-status","status-delivered"],[1,"example-status","status-completed"],[1,"example-status","status-cancelled"],["class","order-summary",4,"ngIf"],[1,"modal-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[4,"ngIf"],["type","text","disabled","",1,"form-control",3,"value"],[1,"form-error"],[3,"value"],[1,"form-warning"],["routerLink","/admin/tables"],["routerLink","/admin/users"],["routerLink","/admin/status"],[1,"order-summary"],[1,"summary-grid"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-label"],[1,"summary-value"],[1,"summary-detail"]],template:function(e,d){e&1&&(i(0,"div",7)(1,"div",8)(2,"div",9)(3,"h1")(4,"span",10),r(5,"\u{1F4CB}"),n(),r(6," Gesti\xF3n de \xD3rdenes "),n(),i(7,"p",11),r(8,"Administra las \xF3rdenes del restaurante"),n()(),i(9,"button",12),f("click",function(){return d.openCreateModal()}),i(10,"span",13),r(11,"+"),n(),r(12," Nueva Orden "),n()(),E(13,"app-loading",14),i(14,"div",15)(15,"div",16)(16,"h2"),r(17,"Lista de \xD3rdenes"),n(),i(18,"span",17),r(19),n()(),u(20,de,4,2,"div",18),n(),u(21,ye,96,35,"div",19),n()),e&2&&(o(9),s("disabled",d.isLoading()),o(4),s("isLoading",d.isLoading())("fullscreen",!1),o(6),O("",d.orderTickets().length," \xF3rdenes"),o(),s("ngIf",!d.isLoading()),o(),s("ngIf",d.showModal()))},dependencies:[N,z,L,ee,J,Q,X,j,K,Y,R,Z,H,G,te,V],styles:['@charset "UTF-8";.order-ticket-management-container[_ngcontent-%COMP%]{padding:30px;max-width:1600px;margin:0 auto;min-height:100vh;background:#f7fafc}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;flex-wrap:wrap;gap:20px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:2rem;color:#2d3748}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:#718096;font-size:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 10px #00000014;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:20px 30px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;color:#2d3748}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:6px 14px;border-radius:20px;font-size:.85rem;font-weight:600}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7fafc}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 20px;text-align:left;font-weight:600;color:#4a5568;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;border-bottom:2px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.text-center[_ngcontent-%COMP%]{text-align:center}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;color:#2d3748}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}.order-number[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#667eea}.table-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.table-info[_ngcontent-%COMP%]   .table-name[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;font-size:.95rem}.table-info[_ngcontent-%COMP%]   .table-location[_ngcontent-%COMP%]{font-size:.8rem;color:#718096;padding:2px 8px;background:#edf2f7;border-radius:4px;display:inline-block;width:fit-content}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{font-size:1.2rem}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2d3748}.date-text[_ngcontent-%COMP%]{font-size:.9rem;color:#4a5568}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem}.status-badge[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:1.1rem}.status-badge.status-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecc94b,#d69e2e);color:#2d3748}.status-badge.status-preparing[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ed8936,#dd6b20);color:#fff}.status-badge.status-ready[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169);color:#fff}.status-badge.status-delivered[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4299e1,#3182ce);color:#fff}.status-badge.status-completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38b2ac,#319795);color:#fff}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f56565,#e53e3e);color:#fff}.status-badge.status-default[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a0aec0,#718096);color:#fff}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;font-size:1rem}.btn-primary[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#4a5568;border:2px solid #e2e8f0;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f7fafc;border-color:#cbd5e0}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-action[_ngcontent-%COMP%]{padding:8px 12px;border-radius:6px;border:none;font-weight:500;cursor:pointer;transition:all .3s ease;font-size:1rem;margin:0 4px}.btn-action[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-view[_ngcontent-%COMP%]{background:#9f7aea;color:#fff}.btn-view[_ngcontent-%COMP%]:hover:not(:disabled){background:#805ad5;transform:translateY(-2px)}.btn-edit[_ngcontent-%COMP%]{background:#4299e1;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover:not(:disabled){background:#3182ce;transform:translateY(-2px)}.btn-delete[_ngcontent-%COMP%]{background:#f56565;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#e53e3e;transform:translateY(-2px)}.empty-state[_ngcontent-%COMP%]{padding:80px 40px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:20px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin:0 0 10px;font-size:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;margin:0 0 20px;font-size:1rem}.empty-state[_ngcontent-%COMP%]   .requirements-box[_ngcontent-%COMP%]{background:#fff5e6;border:2px dashed #ed8936;border-radius:12px;padding:20px;margin:20px auto;max-width:500px;text-align:left}.empty-state[_ngcontent-%COMP%]   .requirements-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#2d3748;font-size:1rem}.empty-state[_ngcontent-%COMP%]   .requirements-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.empty-state[_ngcontent-%COMP%]   .requirements-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:6px 0;color:#4a5568}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:100%;max-width:800px;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease;max-height:90vh;overflow-y:auto}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:24px 30px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:1.5rem;display:flex;align-items:center;gap:10px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{font-size:1.8rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:#718096;cursor:pointer;padding:0;width:32px;height:32px;border-radius:50%;transition:all .3s ease}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover:not(:disabled){background:#f7fafc;color:#2d3748}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#4a5568;font-weight:600;font-size:.95rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#e53e3e;margin-right:4px}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background:#f7fafc;cursor:not-allowed;opacity:.6}.form-group[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{margin-top:6px;font-size:.85rem;color:#718096}.form-group[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]{margin-top:6px;font-size:.85rem;color:#e53e3e}.form-group[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f  "}.form-group[_ngcontent-%COMP%]   .form-warning[_ngcontent-%COMP%]{margin-top:8px;padding:10px 14px;background:#fff5e6;border-left:4px solid #ed8936;border-radius:4px;font-size:.9rem;color:#744210}.form-group[_ngcontent-%COMP%]   .form-warning[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:underline;font-weight:600}.status-examples[_ngcontent-%COMP%]{margin-top:12px;padding:14px;background:#f7fafc;border-radius:8px}.status-examples[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.9rem;color:#4a5568}.status-examples[_ngcontent-%COMP%]   .status-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.status-examples[_ngcontent-%COMP%]   .status-badges[_ngcontent-%COMP%]   .example-status[_ngcontent-%COMP%]{padding:6px 12px;border-radius:6px;font-size:.85rem;font-weight:600}.order-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f7fafc,#edf2f7);border-radius:12px;padding:20px;margin-top:20px}.order-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#2d3748;font-size:1rem}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:14px;background:#fff;border-radius:8px}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.8rem;color:#718096}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#2d3748}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-detail[_ngcontent-%COMP%]{font-size:.75rem;color:#a0aec0}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:30px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.order-ticket-management-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}.data-table[_ngcontent-%COMP%]{font-size:.85rem}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.btn-action[_ngcontent-%COMP%]{padding:6px 10px;font-size:.9rem}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.order-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{ne as OrderTicketManagementComponent};
