import{c as D}from"./chunk-HAWBH55J.js";import{b as V,c as N,d as I,e as T,f as A,g as q,n as j,o as Y,p as $,r as R}from"./chunk-5I2LB5G5.js";import{b as B}from"./chunk-BQTDLULF.js";import{Ab as L,Ca as h,Ga as P,Gb as z,Ma as O,Na as w,Oa as l,Pa as i,Pb as F,Qa as t,R as f,Ra as C,Sa as x,Ta as c,Ua as b,Va as v,W as p,Wa as y,X as g,Xa as k,Ya as o,Za as S,_a as M,ca as u,pa as a,yb as E}from"./chunk-5IEPMVD6.js";var G=(r,e)=>e.email;function W(r,e){r&1&&(i(0,"span"),o(1,"Iniciar Sesi\xF3n"),t())}function H(r,e){r&1&&(i(0,"span"),o(1,"Iniciando sesi\xF3n..."),t())}function J(r,e){if(r&1){let s=x();i(0,"button",27),c("click",function(){let d=p(s).$implicit,m=b();return g(m.useExampleCredentials(d))}),i(1,"div",28)(2,"span",29),o(3),t()(),i(4,"div",30)(5,"small"),o(6),t()()()}if(r&2){let s=e.$implicit,n=b();l("disabled",n.isLoading()),a(2),k(s.role.toLowerCase()),a(),M(" ",s.role," "),a(3),S(s.email)}}var U=class r{authService=f(z);notificationService=f(F);router=f(D);email=u("");password=u("");isLoading=u(!1);showPassword=u(!1);exampleCredentials=[{role:"Admin",email:"admin@restaurapp.com",password:"admin123"},{role:"Mesero",email:"juan.perez@restaurapp.com",password:"waiter123"},{role:"Chef",email:"maria.gonzalez@restaurapp.com",password:"chef123"}];onLogin(){if(!this.email()||!this.password()){this.notificationService.warning("Por favor complete todos los campos");return}this.isLoading.set(!0),this.authService.login({email:this.email(),password:this.password()}).subscribe({next:e=>{this.isLoading.set(!1),this.notificationService.success(`\xA1Bienvenido, ${e.name}!`),this.redirectByRole(e.role)},error:e=>{this.isLoading.set(!1),console.error("Error en login:",e),e.status===401?this.notificationService.error("Credenciales inv\xE1lidas. Verifique su email y contrase\xF1a."):e.status===0?this.notificationService.error("No se puede conectar al servidor. Verifique que el backend est\xE9 ejecut\xE1ndose."):this.notificationService.error("Error al iniciar sesi\xF3n. Intente nuevamente.")}})}redirectByRole(e){switch(e){case"Admin":this.router.navigate(["/admin/dashboard"]);break;case"Waiter":this.router.navigate(["/waiter/orders"]);break;case"Chef":this.router.navigate(["/chef/orders"]);break;default:this.router.navigate(["/"])}}useExampleCredentials(e){this.email.set(e.email),this.password.set(e.password),this.notificationService.info(`Credenciales de ${e.email} cargadas`)}togglePasswordVisibility(){this.showPassword.update(e=>!e)}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=h({type:r,selectors:[["app-login"]],decls:44,vars:14,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],[1,"label-icon"],["type","email","id","email","name","email","required","","email","","placeholder","usuario@restaurapp.com","autocomplete","email",3,"ngModelChange","ngModel","disabled"],["for","password"],[1,"password-input-wrapper"],["id","password","name","password","required","","minlength","6","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click","disabled"],["type","submit",1,"btn-login",3,"disabled"],[4,"ngIf"],["message","Autenticando...",3,"isLoading","fullscreen"],[1,"example-credentials"],[1,"example-title"],[1,"info-icon"],[1,"credentials-list"],["type","button",1,"credential-item",3,"disabled"],[1,"login-footer"],[1,"info-text"],[1,"warning-icon"],[1,"background-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],["type","button",1,"credential-item",3,"click","disabled"],[1,"credential-header"],[1,"role-badge"],[1,"credential-details"]],template:function(s,n){if(s&1){let d=x();i(0,"div",1)(1,"div",2)(2,"form",3,0),c("ngSubmit",function(){return p(d),g(n.onLogin())}),i(4,"h2"),o(5,"Iniciar Sesi\xF3n"),t(),i(6,"div",4)(7,"label",5)(8,"span",6),o(9,"\u{1F4E7}"),t(),o(10," Email "),t(),i(11,"input",7),c("ngModelChange",function(_){return p(d),g(n.email.set(_))}),t()(),i(12,"div",4)(13,"label",8)(14,"span",6),o(15,"\u{1F512}"),t(),o(16," Contrase\xF1a "),t(),i(17,"div",9)(18,"input",10),c("ngModelChange",function(_){return p(d),g(n.password.set(_))}),t(),i(19,"button",11),c("click",function(){return p(d),g(n.togglePasswordVisibility())}),o(20),t()()(),i(21,"button",12),P(22,W,2,0,"span",13)(23,H,2,0,"span",13),t()(),C(24,"app-loading",14),i(25,"div",15)(26,"p",16)(27,"span",17),o(28,"\u{1F4A1}"),t(),o(29," Credenciales de ejemplo "),t(),i(30,"div",18),O(31,J,7,5,"button",19,G),t()(),i(33,"div",20)(34,"p",21)(35,"span",22),o(36,"\u26A0\uFE0F"),t(),o(37," Aseg\xFArate de que el backend est\xE9 ejecut\xE1ndose en "),i(38,"code"),o(39,"http://localhost:8080"),t()()()(),i(40,"div",23),C(41,"div",24)(42,"div",25)(43,"div",26),t()()}if(s&2){let d=v(3);a(11),l("ngModel",n.email())("disabled",n.isLoading()),a(7),l("type",n.showPassword()?"text":"password")("ngModel",n.password())("disabled",n.isLoading()),a(),l("disabled",n.isLoading()),a(),M(" ",n.showPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),a(),y("loading",n.isLoading()),l("disabled",!d.valid||n.isLoading()),a(),l("ngIf",!n.isLoading()),a(),l("ngIf",n.isLoading()),a(),l("isLoading",n.isLoading())("fullscreen",!1),a(7),w(n.exampleCredentials)}},dependencies:[L,E,R,q,V,N,I,j,$,Y,A,T,B],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow:hidden}.background-shapes[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:0;pointer-events:none}.background-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#ffffff1a;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.background-shapes[_ngcontent-%COMP%]   .shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;left:-100px;animation-delay:0s}.background-shapes[_ngcontent-%COMP%]   .shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;right:-50px;animation-delay:5s}.background-shapes[_ngcontent-%COMP%]   .shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:50%;right:10%;animation-delay:10s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(30px,-30px) rotate(120deg)}66%{transform:translate(-20px,20px) rotate(240deg)}}.login-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:450px;position:relative;z-index:1;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-form[_ngcontent-%COMP%]{margin-bottom:25px;margin-top:0}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;font-size:1.5rem;margin:0 0 25px;text-align:center;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:#4a5568;font-weight:500;font-size:.95rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:1.1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f7fafc;cursor:not-allowed;opacity:.6}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:50px}.password-input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;cursor:pointer;font-size:1.3rem;padding:5px;opacity:.6;transition:opacity .3s ease}.password-input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover:not(:disabled){opacity:1}.password-input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.3}.btn-login[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:10px;box-shadow:0 4px 15px #667eea66}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea99}.btn-login[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.btn-login.loading[_ngcontent-%COMP%]{position:relative}.btn-login.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;right:20px;top:50%;transform:translateY(-50%);width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:translateY(-50%) rotate(360deg)}}.example-credentials[_ngcontent-%COMP%]{background:#f7fafc;padding:20px;border-radius:12px;margin-bottom:20px}.example-credentials[_ngcontent-%COMP%]   .example-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#4a5568;font-size:.95rem;font-weight:600;margin:0 0 15px}.example-credentials[_ngcontent-%COMP%]   .example-title[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.2rem}.example-credentials[_ngcontent-%COMP%]   .credentials-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e8f0;border-radius:10px;padding:12px 16px;cursor:pointer;transition:all .3s ease;text-align:left;width:100%}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;box-shadow:0 2px 8px #667eea33;transform:translate(5px)}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]{margin-bottom:5px}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:6px;font-size:.85rem;font-weight:600;text-transform:uppercase}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .role-badge.admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .role-badge.mesero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .role-badge.chef[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.example-credentials[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   .credential-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#718096;font-size:.85rem}.login-footer[_ngcontent-%COMP%]{margin-top:20px}.login-footer[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff5f5;border:1px solid #feb2b2;border-radius:8px;padding:12px;margin:0;font-size:.85rem;color:#742a2a;line-height:1.5}.login-footer[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:1.2rem;flex-shrink:0}.login-footer[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:2px 6px;border-radius:4px;font-size:.8rem;color:#2d3748}@media (max-width: 600px){.login-card[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:2.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 14px}.btn-login[_ngcontent-%COMP%]{padding:14px;font-size:1rem}}']})};export{U as LoginComponent};
